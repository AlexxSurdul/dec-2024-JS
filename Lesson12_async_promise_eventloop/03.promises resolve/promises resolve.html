<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>
    // setTimeout(() => {
    //     let x = 1;
    //     console.log(x);
    //     setTimeout(() => {
    //         x++;
    //         console.log(x);
    //         setTimeout(() => {
    //             x++;
    //             console.log(x);
    //
    //         }, 1000);
    //
    //     }, 1000);
    //
    // }, 1000);

  //щоб уникнути візуально складної конструкції під назвою callback hell потрібно використовувати Promise
    new Promise((resolve) => {  //створюємо проміс через new Promise і вказуємо аргумент resolve (назву можна змінити, якщо потрібно)
        setTimeout(() => {
            let x = 1;
            console.log(x);
            resolve(x);         //щоб передати далі результат відпрацювання функції вказуємо проміс через resolve(x)
        }, 1000);
    })
        .then((x) => {
            return new Promise(resolve => { //щоб проміс відпрацював у наступній частині функції потрібно вказати return перед новим промісом
                setTimeout(() => {
                    x++;
                    console.log(x);
                    resolve(x);
                }, 1000)
            });
        })
        .then(x => {
            return new Promise(resolve => {
                setTimeout(() => {
                    x++;
                    console.log(x);
                    resolve(x);
                }, 1000);
            });
        })
        .then(x => {
            new Promise(resolve => {
                setTimeout(() => {
                    x++;
                    console.log(x);
                }, 1000);
            })
        });



 // fetch('https://jsonplaceholder.typicode.com/users/1')
    //     .then(value => value.json())
    //     .then(user => fetch('https://jsonplaceholder.typicode.com/posts?userId=' + user.id))
    //     .then(response => response.json())
    //     .then(value => console.log(value));
    
</script>

</body>
</html>
